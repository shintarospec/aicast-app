name: æœ¬ç•ªç’°å¢ƒè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

on:
  workflow_dispatch:  # æ‰‹å‹•å®Ÿè¡Œã®ã¿
    inputs:
      message:
        description: 'ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸'
        required: false
        default: 'æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ'

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸš€ æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤é€šçŸ¥
      run: |
        echo "ğŸ¯ ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾è±¡: AIcast Room"
        echo "ğŸ“ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ${{ github.event.inputs.message }}"
        echo "â° å®Ÿè¡Œæ™‚åˆ»: $(date)"
        echo ""
        echo "ğŸ“‹ æœ¬ç•ªç’°å¢ƒã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:"
        echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
        echo "cd /home/shintaro/aicast-app"  
        echo "git pull origin main"
        echo "screen -S aicast -X quit; sleep 2; screen -dmS aicast bash -c 'python3 run.py'"
        echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"